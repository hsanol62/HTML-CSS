<!DOCTYPE html>
<html>

<head>
    <title>세션 스토리지에 쓰기/읽기</title>
</head>

<body>
    <h3>세션 스토리지에 구입 리스트 저장/검색</h3>
    <hr>
    품목명 : <input id="item" type="text">

    <!-- text 박스 id를 item으로 줌 -->

    <!-- 세션은 (키, 값) 쿠키는 (이름, 값) -->


    개수 : <input id="count" type="text">
    <button id="save" onclick="store()">저장</button>
    <!-- onclick  마우스로 클릭하면 실행 :id가 save 인 저장 버튼 -->
    <button id="retrieve" onclick="retrieve()">검색</button>
    <!-- 검색 버튼클릭시 retrieve 함수 호출 -->
    <script>
        var item = document.getElementById("item");
        // id 가 item 인것 불러와 변수 item 에 넣음
        var count = document.getElementById("count");
 // id 가 count 인것 불러와 var count 에 넣음
        function store() { // e는 이벤트 객체
            if (!window.sessionStorage) {
                alert("세션 스토리지를 지원하지 않습니다.");
                return;
            }
        //    저장 눌렀을때 지원하지 않는 브라우저면 위 문구 출력

            sessionStorage.setItem(item.value, count.value);
        }
// sessionStorage에 저장

        function retrieve() { // e는 이벤트 객체
            if (!window.sessionStorage) {
                alert("세션 스토리지를 지원하지 않습니다.");
                return;
            }
            // !window.sessionStorage: 브라우저가 세션 스토리지를 지원하지 않을때 문구 출력


            // sessionStorage 읽기 전용 속성은 현재 출처 세션의 Storage 객체에 접근
            var val = sessionStorage.getItem(item.value);
            ///getItem 키에 해당하는 값 불러온다.
            //  var val에 item.value 값을 불러온다.


            if (val == null)
                alert(item.value + "는 구입 리스트에  없습니다.");
                // val = item.value :item.value 값이 없으면 뜬다.
            else
                count.value = val;
                //item.value값이 있으면 count.value값 불러옴
        }
    </script>
</body>

</html>